{% extends "base.html" %}

{% block title %}GitHub Integration Setup{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-900 py-6">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-white">GitHub Integration Setup</h1>
            <p class="text-gray-400 mt-2">Configure GitHub access for AI-powered code editing</p>
        </div>

        <!-- Setup Form -->
        <div class="bg-gray-800 rounded-lg p-6">
            <form method="POST" class="space-y-6">
                <!-- GitHub Token -->
                <div>
                    <label for="github_token" class="block text-sm font-medium text-gray-300 mb-2">
                        GitHub Personal Access Token
                    </label>
                    <input type="password" 
                           id="github_token" 
                           name="github_token" 
                           required
                           class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                           placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
                    <p class="text-sm text-gray-400 mt-1">
                        Create a personal access token at 
                        <a href="https://github.com/settings/tokens" target="_blank" class="text-blue-400 hover:text-blue-300">GitHub Settings</a>
                    </p>
                </div>

                <!-- Required Permissions -->
                <div class="bg-gray-700 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-white mb-3">Required Token Permissions</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <div class="flex items-center">
                                <i data-feather="check" class="w-4 h-4 text-green-400 mr-2"></i>
                                <span class="text-sm text-gray-300">repo (Full repository access)</span>
                            </div>
                            <div class="flex items-center">
                                <i data-feather="check" class="w-4 h-4 text-green-400 mr-2"></i>
                                <span class="text-sm text-gray-300">workflow (GitHub Actions)</span>
                            </div>
                            <div class="flex items-center">
                                <i data-feather="check" class="w-4 h-4 text-green-400 mr-2"></i>
                                <span class="text-sm text-gray-300">write:packages (Packages)</span>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center">
                                <i data-feather="check" class="w-4 h-4 text-green-400 mr-2"></i>
                                <span class="text-sm text-gray-300">read:org (Organization)</span>
                            </div>
                            <div class="flex items-center">
                                <i data-feather="check" class="w-4 h-4 text-green-400 mr-2"></i>
                                <span class="text-sm text-gray-300">read:public_key (SSH keys)</span>
                            </div>
                            <div class="flex items-center">
                                <i data-feather="check" class="w-4 h-4 text-green-400 mr-2"></i>
                                <span class="text-sm text-gray-300">read:user (User profile)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Features -->
                <div class="bg-gray-700 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-white mb-3">AI-Powered Features</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-start space-x-3">
                            <i data-feather="code" class="w-5 h-5 text-blue-400 mt-1"></i>
                            <div>
                                <h4 class="text-sm font-medium text-white">Code Analysis</h4>
                                <p class="text-xs text-gray-400">AI-powered code quality assessment</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <i data-feather="edit" class="w-5 h-5 text-green-400 mt-1"></i>
                            <div>
                                <h4 class="text-sm font-medium text-white">Smart Refactoring</h4>
                                <p class="text-xs text-gray-400">Intelligent code improvements</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <i data-feather="eye" class="w-5 h-5 text-purple-400 mt-1"></i>
                            <div>
                                <h4 class="text-sm font-medium text-white">Auto Code Review</h4>
                                <p class="text-xs text-gray-400">Automated pull request reviews</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <i data-feather="git-branch" class="w-5 h-5 text-yellow-400 mt-1"></i>
                            <div>
                                <h4 class="text-sm font-medium text-white">Branch Management</h4>
                                <p class="text-xs text-gray-400">Automated branching and PR creation</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="flex justify-end">
                    <button type="submit" 
                            class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2">
                        <i data-feather="github" class="w-4 h-4"></i>
                        <span>Connect GitHub</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- Security Note -->
        <div class="mt-6 bg-yellow-900 border border-yellow-700 rounded-lg p-4">
            <div class="flex items-start space-x-3">
                <i data-feather="shield" class="w-5 h-5 text-yellow-400 mt-1"></i>
                <div>
                    <h4 class="text-sm font-medium text-yellow-400">Security Note</h4>
                    <p class="text-xs text-yellow-300 mt-1">
                        Your GitHub token is encrypted and stored securely. It's only used for authorized repository operations and is never shared with third parties.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Initialize Feather icons
feather.replace();
</script>
{% endblock %}